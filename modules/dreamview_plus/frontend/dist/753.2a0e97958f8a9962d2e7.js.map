{"version":3,"file":"753.2a0e97958f8a9962d2e7.js","mappings":"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","sources":["webpack:///../../../dreamview-core/src/components/panels/CameraView/useStyle.ts","webpack:///../../../dreamview-core/src/components/panels/CameraView/utils.ts","webpack:///../../../dreamview-core/src/components/panels/CameraView/LayerMenu/params.ts","webpack:///../../../dreamview-core/src/components/panels/CameraView/LayerMenu/index.tsx","webpack:///../../../dreamview-core/src/components/panels/CameraView/index.tsx","webpack:///../../../../node_modules/react-resize-detector/build/index.esm.js"],"sourcesContent":["import { useMakeStyle } from '@dreamview/dreamview-theme';\n\nexport default function useStyle() {\n    const hoc = useMakeStyle((theme) => ({\n        'panel-camera-root': {\n            position: 'relative',\n            height: '100%',\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        'camera-btn-container': {\n            position: 'absolute',\n            bottom: '24px',\n            right: '24px',\n        },\n        'camera-btn-item': {\n            display: 'inline-block',\n            cursor: 'pointer',\n            textAlign: 'center',\n            width: '32px',\n            height: '32px',\n            lineHeight: '32px',\n            background: '#343C4D',\n            borderRadius: '6px',\n            marginTop: '12px',\n            fontSize: '16px',\n        },\n        'camera-canvas-container': {\n            width: '100%',\n            height: '100%',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        'panel-camera-canvas': {},\n        'layer-menu-container': {\n            width: '158px',\n            height: '94px',\n        },\n        'layer-menu-header': {\n            height: '40px',\n            paddingLeft: '24px',\n            display: 'flex',\n            alignItems: 'center',\n            borderBottom: '1px solid #383B45',\n            fontFamily: 'PingFangSC-Medium',\n            fontSize: '16px',\n            color: '#FFFFFF',\n            fontWeight: '500',\n        },\n        'layer-menu-content-right': {\n            height: '54px',\n            paddingLeft: '24px',\n            display: 'flex',\n            alignItems: 'center',\n            fontFamily: 'PingFangSC-Regular',\n            fontSize: '14px',\n            color: '#A6B5CC',\n            fontWeight: '400',\n        },\n    }));\n    return hoc();\n}\n","export const ObstacleTypeColorMap = new Map([\n    ['ST_UNKNOWN', 'rgba(96, 96, 96, 1.000)'],\n    ['ST_UNKNOWN_MOVABLE', 'rgba(96, 96, 96, 1.000)'],\n    ['ST_UNKNOWN_UNMOVABLE', 'rgba(96, 96, 96, 1.000)'],\n    ['ST_CAR', 'rgba(243, 187, 37, 1.000)'],\n    ['ST_VAN', 'rgba(243, 187, 37, 1.000)'],\n    ['ST_TRUCK', 'rgba(243, 187, 37, 1.000)'],\n    ['ST_BUS', 'rgba(243, 187, 37, 1.000)'],\n    ['ST_CYCLIST', 'rgba(231, 91, 135, 1.000)'],\n    ['ST_MOTORCYCLIST', 'rgba(231, 91, 135, 1.000)'],\n    ['ST_TRICYCLIST', 'rgba(231, 91, 135, 1.000)'],\n    ['ST_PEDESTRIAN', '#35DACF'],\n    ['ST_TRAFFICCONE', '#35DACF'],\n]);\n","export interface subMenuParams {\n    [key: string]: {\n        defaultVisible: boolean;\n        currentVisible: boolean;\n        vizKey: string;\n    };\n}\n\nexport const layerMenuParams: { [key: string]: subMenuParams } = {\n    '': {\n        boundingbox: {\n            defaultVisible: false,\n            currentVisible: false,\n            vizKey: 'Boundingbox',\n        },\n    },\n};\n","import React, { useState } from 'react';\nimport { Switch, Checkbox } from '@dreamview/dreamview-ui';\nimport { useTranslation } from 'react-i18next';\nimport useStyle from '../useStyle';\nimport { layerMenuParams } from './params';\n\nexport default function LayerMenu(props: { setShowBoundingBox: any }) {\n    const setShowBoundingBox = props.setShowBoundingBox;\n\n    const { classes, cx } = useStyle();\n\n    const { t } = useTranslation('layerMenu');\n\n    const [layerMenu, setLayerMenu] = useState(layerMenuParams);\n    const [menu] = useState(Object.keys(layerMenu));\n    const [currentMenu, setCurrentMenu] = useState(menu[0]);\n    const [subMenu, setSubMenu] = useState(layerMenu[currentMenu]);\n\n    return (\n        <div className={classes['layer-menu-container']}>\n            <div className={classes['layer-menu-header']}>\n                <div className={classes['layer-menu-header-left']}>{t('layerMenu')}</div>\n                <div className={classes['layer-menu-header-right']} />\n            </div>\n            <div className={classes['layer-menu-content']}>\n                <div className={classes['layer-menu-content-left']}>\n                    {menu.map((item) => (\n                        <li\n                            key={item}\n                            className={cx(classes['layer-menu-content-left-li'], {\n                                [classes['li-active']]: currentMenu === item,\n                            })}\n                            onClick={() => {\n                                setCurrentMenu(item);\n                                setSubMenu(layerMenu[item]);\n                            }}\n                        >\n                            <span>{item}</span>\n                        </li>\n                    ))}\n                </div>\n                <div className={classes['layer-menu-content-right']}>\n                    {Object.keys(subMenu).map((key) => {\n                        const { currentVisible } = layerMenu[currentMenu][key];\n                        return (\n                            <li key={key}>\n                                <span>\n                                    <Checkbox\n                                        checked={currentVisible}\n                                        defaultChecked={currentVisible}\n                                        onChange={(e) => {\n                                            const checked = e.target.checked;\n                                            setShowBoundingBox(checked);\n                                            const newMenu = {\n                                                ...layerMenu[currentMenu],\n                                                [key]: {\n                                                    ...layerMenu[currentMenu][key],\n                                                    currentVisible: checked,\n                                                },\n                                            };\n\n                                            const newLayerMenu = {\n                                                ...layerMenu,\n                                                [currentMenu]: newMenu,\n                                            };\n                                            setSubMenu(() => newMenu);\n                                            setLayerMenu(() => newLayerMenu);\n                                        }}\n                                    >\n                                        {key}\n                                    </Checkbox>\n                                </span>\n                            </li>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useEffect, useMemo, useRef, useState, useLayoutEffect } from 'react';\nimport type { apollo } from '@dreamview/dreamview';\nimport { IconIcCoverageHover, Popover } from '@dreamview/dreamview-ui';\nimport { isEmpty } from 'lodash';\nimport useStyle from './useStyle';\nimport { usePanelContext } from '../base/store/PanelStore';\nimport { ObstacleTypeColorMap } from './utils';\nimport LayerMenu from './LayerMenu';\nimport { StreamDataNames } from '../../../services/api/types';\nimport Panel from '../base/Panel';\nimport CustomScroll from '../../CustomScroll';\n\ntype ICameraUpdate = apollo.dreamview.ICameraUpdate;\n\nenum SubType {\n    ST_UNKNOWN = 'ST_UNKNOWN',\n    ST_UNKNOWN_MOVABLE = 'ST_UNKNOWN_MOVABLE',\n    ST_UNKNOWN_UNMOVABLE = 'ST_UNKNOWN_UNMOVABLE',\n    ST_CAR = 'ST_CAR',\n    ST_VAN = 'ST_VAN',\n    ST_TRUCK = 'ST_TRUCK',\n    ST_BUS = 'ST_BUS',\n    ST_CYCLIST = 'ST_CYCLIST',\n    ST_MOTORCYCLIST = 'ST_MOTORCYCLIST',\n    ST_TRICYCLIST = 'ST_TRICYCLIST',\n    ST_PEDESTRIAN = 'ST_PEDESTRIAN',\n    ST_TRAFFICCONE = 'ST_TRAFFICCONE',\n}\n\nfunction InternalCameraView() {\n    const panelContext = usePanelContext();\n    const { logger, panelId, data: subcribedData, onPanelResize, initSubscription } = panelContext;\n\n    const [showBoundingBox, setShowBoundingBox] = useState(false);\n\n    const [viewPortSize, setViewPortSize] = useState(null);\n    const [data, setData] = useState<ICameraUpdate>();\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    useEffect(() => {\n        initSubscription({\n            [StreamDataNames.CAMERA]: {\n                consumer: (camerData) => {\n                    setData(camerData);\n                },\n            },\n        });\n    }, []);\n\n    useLayoutEffect(() => {\n        onPanelResize((width, height) => {\n            setViewPortSize({ viewPortWidth: width, viewPortHeight: height });\n        });\n    }, []);\n\n    useEffect(() => {\n        if (isEmpty(data)) return;\n        if (data?.image?.length > 0) {\n            // 图片缩放比例\n            const kImageScale = data.kImageScale;\n            const imageData = new Uint8Array(data.image);\n            const blob = new Blob([imageData], { type: 'image/jpeg' });\n            // 使用 createImageBitmap 创建 ImageBitmap 对象\n\n            createImageBitmap(blob)\n                .then((imageBitmap) => {\n                    // 获取 canvas 对象\n                    const canvas = canvasRef.current;\n                    if (!canvas) return;\n\n                    const drawImageSize = {} as { drawImageWidth: number; drawImageHeight: number };\n\n                    const flag =\n                        imageBitmap.width / imageBitmap.height >\n                        viewPortSize.viewPortWidth / viewPortSize.viewPortHeight;\n\n                    const widthScale = viewPortSize.viewPortWidth / imageBitmap.width;\n                    const heightScale = viewPortSize.viewPortHeight / imageBitmap.height;\n\n                    const scale = flag ? widthScale : heightScale;\n\n                    drawImageSize.drawImageWidth = imageBitmap.width * scale;\n                    drawImageSize.drawImageHeight = imageBitmap.height * scale;\n\n                    // 设置 canvas 尺寸\n                    canvas.width = drawImageSize.drawImageWidth;\n                    canvas.height = drawImageSize.drawImageHeight;\n\n                    // 获取 2D 渲染上下文并绘制 ImageBitmap\n                    const ctx = canvas.getContext('2d');\n                    ctx.drawImage(imageBitmap, 0, 0, drawImageSize.drawImageWidth, drawImageSize.drawImageHeight);\n                    // If there are obstacles\n                    if (data.bbox2d && data.bbox2d.length > 0 && showBoundingBox) {\n                        logger.debug(panelId, 'has obstacles');\n                        data.bbox2d.forEach((bbox, index) => {\n                            const obstaclesId = data.obstaclesId[index];\n                            const obstaclesSubType = data.obstaclesSubType[index] as SubType;\n\n                            ctx.strokeStyle = ObstacleTypeColorMap.get(obstaclesSubType) || 'red';\n\n                            let { xmin, ymin, xmax, ymax } = bbox;\n                            if (xmin === ymin && ymin === xmax && xmax === ymax) {\n                                logger.debug(panelId, 'bbox is empty');\n                                return;\n                            }\n                            [xmin, ymin, xmax, ymax] = [xmin, ymin, xmax, ymax].map(\n                                (value) => value * (kImageScale ?? 1) * scale,\n                            );\n                            ctx.strokeRect(xmin, ymin, xmax - xmin, ymax - ymin);\n                            ctx.fillStyle = ObstacleTypeColorMap.get(obstaclesSubType) || 'white';\n                            ctx.font = '12px Arial';\n                            ctx.fillText(`${obstaclesSubType.substring(3)}:${obstaclesId}`, xmin, ymin);\n                        });\n                    }\n                })\n                .catch((e) => {\n                    // 错误处理\n                    logger.error(e);\n                });\n        }\n    }, [data, showBoundingBox, viewPortSize]);\n\n    const { classes } = useStyle();\n    return (\n        <div className={classes['panel-camera-root']}>\n            <div className={classes['camera-btn-container']}>\n                <Popover\n                    placement='leftTop'\n                    content={<LayerMenu setShowBoundingBox={setShowBoundingBox} />}\n                    trigger='click'\n                >\n                    <span className={classes['camera-btn-item']}>\n                        <IconIcCoverageHover />\n                    </span>\n                </Popover>\n            </div>\n            <CustomScroll className={classes['camera-canvas-container']}>\n                <canvas ref={canvasRef} id={`camera-${panelId}`} className={classes['panel-camera-canvas']} />\n            </CustomScroll>\n        </div>\n    );\n}\n\nexport default function CameraView(props: any) {\n    const Component = useMemo(\n        () => Panel(InternalCameraView, props.panelId, [{ name: StreamDataNames.CAMERA, needChannel: true }]),\n        [],\n    );\n    return <Component {...props} />;\n}\n\nInternalCameraView.displayName = 'InternalCameraView';\n","import React,{cloneElement,isValidElement,createRef,PureComponent,Component,forwardRef,useRef,useState,useCallback,useEffect}from'react';import {findDOMNode}from'react-dom';import debounce from'lodash/debounce';import throttle from'lodash/throttle';/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}var patchResizeCallback = function (resizeCallback, refreshMode, refreshRate, refreshOptions) {\n    switch (refreshMode) {\n        case 'debounce':\n            return debounce(resizeCallback, refreshRate, refreshOptions);\n        case 'throttle':\n            return throttle(resizeCallback, refreshRate, refreshOptions);\n        default:\n            return resizeCallback;\n    }\n};\nvar isFunction = function (fn) { return typeof fn === 'function'; };\nvar isSSR = function () { return typeof window === 'undefined'; };\nvar isDOMElement = function (element) {\n    return element instanceof Element || element instanceof HTMLDocument;\n};var ResizeDetector = /** @class */ (function (_super) {\n    __extends(ResizeDetector, _super);\n    function ResizeDetector(props) {\n        var _this = _super.call(this, props) || this;\n        _this.cancelHandler = function () {\n            if (_this.resizeHandler && _this.resizeHandler.cancel) {\n                // cancel debounced handler\n                _this.resizeHandler.cancel();\n                _this.resizeHandler = null;\n            }\n        };\n        _this.attachObserver = function () {\n            var _a = _this.props, targetRef = _a.targetRef, observerOptions = _a.observerOptions;\n            if (isSSR()) {\n                return;\n            }\n            if (targetRef && targetRef.current) {\n                _this.targetRef.current = targetRef.current;\n            }\n            var element = _this.getElement();\n            if (!element) {\n                // can't find element to observe\n                return;\n            }\n            if (_this.observableElement && _this.observableElement === element) {\n                // element is already observed\n                return;\n            }\n            _this.observableElement = element;\n            _this.resizeObserver.observe(element, observerOptions);\n        };\n        _this.getElement = function () {\n            var _a = _this.props, querySelector = _a.querySelector, targetDomEl = _a.targetDomEl;\n            if (isSSR())\n                return null;\n            // in case we pass a querySelector\n            if (querySelector)\n                return document.querySelector(querySelector);\n            // in case we pass a DOM element\n            if (targetDomEl && isDOMElement(targetDomEl))\n                return targetDomEl;\n            // in case we pass a React ref using React.createRef()\n            if (_this.targetRef && isDOMElement(_this.targetRef.current))\n                return _this.targetRef.current;\n            // the worse case when we don't receive any information from the parent and the library doesn't add any wrappers\n            // we have to use a deprecated `findDOMNode` method in order to find a DOM element to attach to\n            var currentElement = findDOMNode(_this);\n            if (!currentElement)\n                return null;\n            var renderType = _this.getRenderType();\n            switch (renderType) {\n                case 'renderProp':\n                    return currentElement;\n                case 'childFunction':\n                    return currentElement;\n                case 'child':\n                    return currentElement;\n                case 'childArray':\n                    return currentElement;\n                default:\n                    return currentElement.parentElement;\n            }\n        };\n        _this.createResizeHandler = function (entries) {\n            var _a = _this.props, _b = _a.handleWidth, handleWidth = _b === void 0 ? true : _b, _c = _a.handleHeight, handleHeight = _c === void 0 ? true : _c, onResize = _a.onResize;\n            if (!handleWidth && !handleHeight)\n                return;\n            var notifyResize = function (_a) {\n                var width = _a.width, height = _a.height;\n                if (_this.state.width === width && _this.state.height === height) {\n                    // skip if dimensions haven't changed\n                    return;\n                }\n                if ((_this.state.width === width && !handleHeight) || (_this.state.height === height && !handleWidth)) {\n                    // process `handleHeight/handleWidth` props\n                    return;\n                }\n                onResize === null || onResize === void 0 ? void 0 : onResize(width, height);\n                _this.setState({ width: width, height: height });\n            };\n            entries.forEach(function (entry) {\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\n                var shouldSetSize = !_this.skipOnMount && !isSSR();\n                if (shouldSetSize) {\n                    notifyResize({ width: width, height: height });\n                }\n                _this.skipOnMount = false;\n            });\n        };\n        _this.getRenderType = function () {\n            var _a = _this.props, render = _a.render, children = _a.children;\n            if (isFunction(render)) {\n                // DEPRECATED. Use `Child Function Pattern` instead\n                return 'renderProp';\n            }\n            if (isFunction(children)) {\n                return 'childFunction';\n            }\n            if (isValidElement(children)) {\n                return 'child';\n            }\n            if (Array.isArray(children)) {\n                // DEPRECATED. Wrap children with a single parent\n                return 'childArray';\n            }\n            // DEPRECATED. Use `Child Function Pattern` instead\n            return 'parent';\n        };\n        var skipOnMount = props.skipOnMount, refreshMode = props.refreshMode, _a = props.refreshRate, refreshRate = _a === void 0 ? 1000 : _a, refreshOptions = props.refreshOptions;\n        _this.state = {\n            width: undefined,\n            height: undefined\n        };\n        _this.sizeRef = {\n            current: _this.state\n        };\n        _this.skipOnMount = skipOnMount;\n        _this.targetRef = createRef();\n        _this.observableElement = null;\n        if (isSSR()) {\n            return _this;\n        }\n        _this.resizeHandler = patchResizeCallback(_this.createResizeHandler, refreshMode, refreshRate, refreshOptions);\n        _this.resizeObserver = new window.ResizeObserver(_this.resizeHandler);\n        return _this;\n    }\n    ResizeDetector.prototype.componentDidMount = function () {\n        this.attachObserver();\n    };\n    ResizeDetector.prototype.componentDidUpdate = function () {\n        this.attachObserver();\n        this.sizeRef.current = this.state;\n    };\n    ResizeDetector.prototype.componentWillUnmount = function () {\n        if (isSSR()) {\n            return;\n        }\n        this.observableElement = null;\n        this.resizeObserver.disconnect();\n        this.cancelHandler();\n    };\n    ResizeDetector.prototype.render = function () {\n        var _a = this.props, render = _a.render, children = _a.children, _b = _a.nodeType, WrapperTag = _b === void 0 ? 'div' : _b;\n        var _c = this.state, width = _c.width, height = _c.height;\n        var childProps = { width: width, height: height, targetRef: this.targetRef };\n        var renderType = this.getRenderType();\n        switch (renderType) {\n            case 'renderProp':\n                return render === null || render === void 0 ? void 0 : render(childProps);\n            case 'childFunction': {\n                var childFunction = children;\n                return childFunction === null || childFunction === void 0 ? void 0 : childFunction(childProps);\n            }\n            case 'child': {\n                // @TODO bug prone logic\n                var child = children;\n                if (child.type && typeof child.type === 'string') {\n                    // child is a native DOM elements such as div, span etc\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    childProps.targetRef; var nativeProps = __rest(childProps, [\"targetRef\"]);\n                    return cloneElement(child, nativeProps);\n                }\n                // class or functional component otherwise\n                return cloneElement(child, childProps);\n            }\n            case 'childArray': {\n                var childArray = children;\n                return childArray.map(function (el) { return !!el && cloneElement(el, childProps); });\n            }\n            default:\n                return React.createElement(WrapperTag, null);\n        }\n    };\n    return ResizeDetector;\n}(PureComponent));function withResizeDetector(ComponentInner, options) {\n    if (options === void 0) { options = {}; }\n    var ResizeDetectorHOC = /** @class */ (function (_super) {\n        __extends(ResizeDetectorHOC, _super);\n        function ResizeDetectorHOC() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.ref = createRef();\n            return _this;\n        }\n        ResizeDetectorHOC.prototype.render = function () {\n            var _a = this.props, forwardedRef = _a.forwardedRef, rest = __rest(_a, [\"forwardedRef\"]);\n            var targetRef = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : this.ref;\n            return (React.createElement(ResizeDetector, __assign({}, options, { targetRef: targetRef }),\n                React.createElement(ComponentInner, __assign({ targetRef: targetRef }, rest))));\n        };\n        return ResizeDetectorHOC;\n    }(Component));\n    function forwardRefWrapper(props, ref) {\n        return React.createElement(ResizeDetectorHOC, __assign({}, props, { forwardedRef: ref }));\n    }\n    var name = ComponentInner.displayName || ComponentInner.name;\n    forwardRefWrapper.displayName = \"withResizeDetector(\".concat(name, \")\");\n    return forwardRef(forwardRefWrapper);\n}function useResizeDetector(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.skipOnMount, skipOnMount = _c === void 0 ? false : _c, refreshMode = _b.refreshMode, _d = _b.refreshRate, refreshRate = _d === void 0 ? 1000 : _d, refreshOptions = _b.refreshOptions, _e = _b.handleWidth, handleWidth = _e === void 0 ? true : _e, _f = _b.handleHeight, handleHeight = _f === void 0 ? true : _f, targetRef = _b.targetRef, observerOptions = _b.observerOptions, onResize = _b.onResize;\n    var skipResize = useRef(skipOnMount);\n    var _g = useState({\n        width: undefined,\n        height: undefined\n    }), size = _g[0], setSize = _g[1];\n    // we are going to use this ref to store the last element that was passed to the hook\n    var _h = useState((targetRef === null || targetRef === void 0 ? void 0 : targetRef.current) || null), refElement = _h[0], setRefElement = _h[1];\n    // if targetRef is passed, we need to update the refElement\n    // we have to use setTimeout because ref get assigned after the hook is called\n    // in the future releases we are going to remove targetRef and force users to use ref returned by the hook\n    if (targetRef) {\n        setTimeout(function () {\n            if (targetRef.current !== refElement) {\n                setRefElement(targetRef.current);\n            }\n        }, 0);\n    }\n    // this is a callback that will be called every time the ref is changed\n    // we call setState inside to trigger rerender\n    var onRefChange = useCallback(function (node) {\n        if (node !== refElement) {\n            setRefElement(node);\n        }\n    }, [refElement]);\n    // adding `current` to make it compatible with useRef shape\n    onRefChange.current = refElement;\n    useEffect(function () {\n        return function () {\n            // component is unmounted\n            // clear ref to avoid memory leaks\n            setRefElement(null);\n            onRefChange.current = null;\n        };\n    }, []);\n    var shouldSetSize = useCallback(function (prevSize, nextSize) {\n        if (prevSize.width === nextSize.width && prevSize.height === nextSize.height) {\n            // skip if dimensions haven't changed\n            return false;\n        }\n        if ((prevSize.width === nextSize.width && !handleHeight) ||\n            (prevSize.height === nextSize.height && !handleWidth)) {\n            // process `handleHeight/handleWidth` props\n            return false;\n        }\n        return true;\n    }, [handleWidth, handleHeight]);\n    var resizeCallback = useCallback(function (entries) {\n        if (!handleWidth && !handleHeight)\n            return;\n        if (skipResize.current) {\n            skipResize.current = false;\n            return;\n        }\n        entries.forEach(function (entry) {\n            var _a = (entry === null || entry === void 0 ? void 0 : entry.contentRect) || {}, width = _a.width, height = _a.height;\n            setSize(function (prevSize) {\n                if (!shouldSetSize(prevSize, { width: width, height: height }))\n                    return prevSize;\n                return { width: width, height: height };\n            });\n        });\n    }, [handleWidth, handleHeight, skipResize, shouldSetSize]);\n    var resizeHandler = useCallback(patchResizeCallback(resizeCallback, refreshMode, refreshRate, refreshOptions), [\n        resizeCallback,\n        refreshMode,\n        refreshRate,\n        refreshOptions\n    ]);\n    // on refElement change\n    useEffect(function () {\n        var resizeObserver;\n        if (refElement) {\n            resizeObserver = new window.ResizeObserver(resizeHandler);\n            resizeObserver.observe(refElement, observerOptions);\n        }\n        else {\n            if (size.width || size.height) {\n                setSize({ width: undefined, height: undefined });\n            }\n        }\n        return function () {\n            var _a, _b, _c;\n            (_a = resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect) === null || _a === void 0 ? void 0 : _a.call(resizeObserver);\n            (_c = (_b = resizeHandler).cancel) === null || _c === void 0 ? void 0 : _c.call(_b);\n        };\n    }, [resizeHandler, refElement]);\n    useEffect(function () {\n        onResize === null || onResize === void 0 ? void 0 : onResize(size.width, size.height);\n    }, [size]);\n    return __assign({ ref: onRefChange }, size);\n}export{ResizeDetector as default,useResizeDetector,withResizeDetector};//# sourceMappingURL=index.esm.js.map\n"],"names":["useStyle","useMakeStyle","theme","position","height","width","display","justifyContent","alignItems","bottom","right","cursor","textAlign","lineHeight","background","borderRadius","marginTop","fontSize","maxWidth","maxHeight","paddingLeft","borderBottom","fontFamily","color","fontWeight","hoc","ObstacleTypeColorMap","Map","layerMenuParams","boundingbox","defaultVisible","currentVisible","vizKey","LayerMenu","props","setShowBoundingBox","_useStyle","classes","cx","t","useTranslation","_useState2","_slicedToArray","useState","layerMenu","setLayerMenu","menu","Object","keys","_useState6","currentMenu","setCurrentMenu","_useState8","subMenu","setSubMenu","React","className","map","item","key","_defineProperty","onClick","Checkbox","checked","defaultChecked","onChange","e","target","newMenu","_objectSpread","newLayerMenu","InternalCameraView","panelContext","usePanelContext","logger","panelId","onPanelResize","data","initSubscription","showBoundingBox","_useState4","viewPortSize","setViewPortSize","setData","canvasRef","useRef","useEffect","StreamDataNames","CAMERA","consumer","camerData","useLayoutEffect","viewPortWidth","viewPortHeight","_data$image","isEmpty","image","length","kImageScale","imageData","Uint8Array","blob","Blob","type","createImageBitmap","then","imageBitmap","canvas","current","drawImageSize","flag","widthScale","heightScale","scale","drawImageWidth","drawImageHeight","ctx","getContext","drawImage","bbox2d","debug","forEach","bbox","index","obstaclesId","obstaclesSubType","strokeStyle","get","xmin","ymin","xmax","ymax","_map2","value","strokeRect","fillStyle","font","fillText","concat","substring","error","Popover","placement","content","trigger","IconIcCoverageHover","CustomScroll","ref","id","CameraView","Component","useMemo","Panel","name","needChannel","displayName","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__assign","assign","s","i","n","arguments","prototype","call","apply","this","patchResizeCallback","resizeCallback","refreshMode","refreshRate","refreshOptions","isFunction","fn","isSSR","window","isDOMElement","element","Element","HTMLDocument","useResizeDetector","_a","_b","_c","skipOnMount","_d","_e","handleWidth","_f","handleHeight","targetRef","observerOptions","onResize","skipResize","_g","undefined","size","setSize","_h","refElement","setRefElement","setTimeout","onRefChange","useCallback","node","shouldSetSize","prevSize","nextSize","entries","entry","contentRect","resizeHandler","resizeObserver","ResizeObserver","observe","disconnect","cancel","_super","ResizeDetector","_this","cancelHandler","attachObserver","getElement","observableElement","querySelector","targetDomEl","document","currentElement","findDOMNode","getRenderType","parentElement","createResizeHandler","state","setState","notifyResize","render","children","isValidElement","isArray","sizeRef","createRef","__","constructor","create","__extends","componentDidMount","componentDidUpdate","componentWillUnmount","nodeType","WrapperTag","childProps","childFunction","child","nativeProps","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","cloneElement","el","PureComponent"],"sourceRoot":""}