"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[920],{26142:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Cr});var n=r(21902),o=r(45994),a=r(86944),i=r(54067),l=r(58938),c=r(52007),u=r(2629),s=function(e){return e.PLANNING="PLANNING",e.CONTROL="CONTROL",e.LATENCY="LATENCY",e}({}),f=r(44606);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){return(0,f.BH)((function(e){return{"pnc-container":{padding:e.tokens.padding.speace2,position:"relative",height:"100%"},"pnc-monitor-filter-popover":{"& .dreamview-popover-title":p(p({padding:"".concat(e.tokens.padding.speace," ").concat(e.tokens.padding.speace3)},e.tokens.typography.title),{},{borderBottom:"1px solid #484C59",marginBottom:0}),"&.dreamview-popover .dreamview-popover-inner":{backgroundColor:"#353947",padding:0},"& .dreamview-popover-inner-content":{padding:"".concat(e.tokens.padding.speace2," ").concat(e.tokens.padding.speace3)}},"pnc-monitor-filter":{color:e.tokens.colors.fontColor2,position:"absolute",right:e.tokens.margin.speace2,top:e.tokens.margin.speace3,"&:hover":{color:e.tokens.font.reactive.mainHover},"&:active":{color:e.tokens.font.reactive.mainActive}},"pnc-monitor-filter-content":{display:"flex",flexWrap:"wrap",maxWidth:"430px"},"pnc-monitor-filter-item":p(p(p({width:"50%"},e.util.textEllipsis),e.tokens.typography.content),{},{color:e.tokens.colors.fontColor2,marginBottom:"12px","& .dreamview-check-box-wrapper":{marginRight:e.tokens.margin.speace}}),tabs:{marginBottom:"20px",".dreamview-tabs-nav .dreamview-tabs-nav-list":{display:"inline-flex",flex:"none",background:e.tokens.colors.background1},".dreamview-tabs-tab":{padding:"5px 0",width:"100px",justifyContent:"center",margin:"0 !important"},".dreamview-tabs-ink-bar":{display:"none"},".dreamview-tabs-tab.dreamview-tabs-tab-active .dreamview-tabs-tab-btn":p({color:e.tokens.colors.fontColor1},e.tokens.typography.content),".dreamview-tabs-tab.dreamview-tabs-tab-active ":{backgroundColor:e.tokens.colors.brand2,borderRadius:"6px"}}}}))()}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=S((0,n.useState)(e),1)[0],r=S((0,n.useState)((function(){return e.reduce((function(e,t){return h(h({},e),{},g({},t.id,!0))}),{})})),2),o=r[0],a=r[1],i=(0,n.useMemo)((function(){return t.filter((function(e){return o[e.id]})).map((function(e){return e.id}))}),[o]),l=(0,n.useCallback)((function(e){a((function(t){return h(h({},t),{},g({},e,!t[e]))}))}),[]);return{filterList:t,checkedStatus:o,onToggle:l,checkList:i}}var w=[{id:"PlanningSpeed",name:"Planning Speed"},{id:"PlanningAccelerationGraph",name:"Planning Acceleration"},{id:"PlanningTheta",name:"Planning Theta"},{id:"PlanningKappa",name:"Planning Kappa"},{id:"PlanningSpeedHeuristicGraph",name:"Speed Heuristic"},{id:"PlanningSTGraph",name:"Planning S-T Graph"},{id:"PlanningVTGraph",name:"Planning V-T Graph"},{id:"PlanningDKappa",name:"Planning Kaappa Deravative"},{id:"PlanningReferenceTheta",name:"Reference Line Theta"},{id:"PlanningReferenceKappa",name:"Reference Line Kappa"},{id:"PlanningReferenceDKappa",name:"Reference Line Kapp Derivative"}],A=[{id:"TrajectoryGraph",name:"Trajectory"},{id:"SpeedGraph",name:"Speed"},{id:"AccelerationGraph",name:"Acceleration"},{id:"CurvatureGraph",name:"Curvature"},{id:"StationErrorGraph",name:"Station error"},{id:"LateralErrorGraph",name:"Lateral error"},{id:"HeadingErrorGraph",name:"Heading error"}],x=r(16125),E=n.createContext(null);function P(){return n.useContext(E)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=["#3288FA","#1FCC4D","#FF8D26","#44D7B6","#FFEC3D","#B37FEB","#F75660"];function R(e){var t,r,a=e.legends,i=e.onClick,l=(0,f.BH)((function(e){return{"legend-flex-container":{textAlign:"center",marginBottom:"-6px",marginTop:e.tokens.margin.speace2},"legend-container":{display:"inline-flex",flexWrap:"wrap",margin:"0 6px 0px ".concat(e.tokens.margin.speace2)},"legend-item":D(D({cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",color:e.tokens.colors.fontColor2},e.tokens.typography.sideText),{},{marginRight:"10px","& .anticon":{marginRight:"6px"}}),"legend-unactive":{position:"relative",color:e.tokens.colors.fontColor4,"& .anticon":{color:"".concat(e.tokens.colors.fontColor4," !important")},"&::after":{content:'""',position:"absolute",left:0,right:0,margin:"auto",height:"1px",background:e.tokens.colors.fontColor4}},"legend-icon":{}}}))(),c=l.classes,u=l.cx,s=(t=(0,n.useState)({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=s[0],m=s[1];return(0,n.useEffect)((function(){var e={};a.forEach((function(t){e[t]=!(t in y)||y[t]})),m(e)}),[a]),a.length<=1?null:n.createElement("div",{className:c["legend-flex-container"]},n.createElement("div",{className:c["legend-container"]},a.map((function(e,t){return n.createElement("div",{className:u(c["legend-item"],C({},c["legend-unactive"],!y[e])),onClick:function(){return t=e,m((function(e){return D(D({},e),{},C({},t,!e[t]))})),void i(t);var t},key:e},n.createElement(o.T0,{className:c,style:{color:M[t]}}),e)}))))}const L=n.memo(R);var N=r(91217),B=r(54638);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=r(24545);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===K(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={dataZoom:[{type:"inside"}]},W=function(e){var t=e.xAxis,r=e.xAxisFormatter,n=e.yAxisFormatter,o=e.yAxis,a=e.dataset,i=e.series,l=e.scale,c=e.graphic,u=e.grid;return e.animation,z({color:["#3288FA","#1FCC4D","#FF8D26","#44D7B6","#FFEC3D","#B37FEB","#F75660"],graphic:c,grid:z({containLabel:!0,top:40,left:15,right:15,bottom:30},u||{}),xAxis:z(z({},t),{},{scale:!0,nameGap:t.nameGap||30,nameLocation:"middle",axisLine:{onZero:!1,lineStyle:{color:"#A6B5CC"}},splitLine:{show:!1},axisTick:{show:!0,lineStyle:{color:"#A6B5CC"}},axisLabel:z(z({},t.axisLabel||{}),{},{formatter:function(e){return r?r(e):e}})}),yAxis:z(z({},o),{},{scale:!0,axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#40454D"}},axisLabel:{formatter:function(e){return n?n(e):e}}}),dataset:a,series:i,animation:!1,tooltip:{position:function(e,t,r,n,o){var a=o.viewSize[0]-o.contentSize[0],i=e[0];return[Math.max(Math.min(i,a),0),e[1]]},trigger:"axis",formatter:function(e){var t,r=null===(t=e[0].value)||void 0===t?void 0:t[0];return'<div style="font-weight: bold; font-size: 16px;">'.concat(r,"</div>")+e.reduce((function(e,t){var r;return"".concat(e).concat(t.marker," ").concat(t.seriesName,": ").concat((null===(r=t.value)||void 0===r?void 0:r[1])||"-","<br>")}),"")},padding:[10,16,10,16],backgroundColor:"rgba(255,255,255,0.21)",extraCssText:"box-shadow:  0px 6px 12px 2px rgba(0,0,0,0.1);backdrop-filter: blur(5px);",borderColor:"transparent",textStyle:{color:"white"}},legend:{show:!1,zLevel:2},textStyle:{color:"#808B9D"}},l?_:{})};function Y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!e)return[];var i={},l=e.map((function(e){return[e[t]+o,e[r]]}));return a&&(l=l.filter((function(e){var t,r,n=(t=e,r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!i[n]&&(i[n]=!0,!0)}))),n&&e.length&&l.push([e[0][t],e[0][r]]),l}function V(e,t,r){if(!e||!t||e.length!==t.length)return[];for(var n=[],o=0;o<t.length;o+=1){var a=Number(e[o]),i=Number(t[o]);void 0!==r&&(i=r(i)),n.push([a,i])}return n}function Q(e,t,r){if("timestampSec"===r)return t;var n=(e||[]).map((function(e){return e.timestampSec})),o=(e||[]).map((function(e){return e[r]}));return new $.LinearInterpolant(n,o,1,[]).evaluate(t)[0]}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e){var t=e.onReset,r=e.yAxisName,a=e.onLegendClick,i=e.onCanvasRef,l=e.legends,c=e.title,u=e.autoHeight,s=(0,f.BH)((function(e){return{"moniter-item-container":{backgroundColor:"#282D38",color:e.tokens.colors.fontColor2,borderRadius:"6px"},"moniter-item-title":H(H({},e.tokens.typography.sideText),{},{lineHeight:"32px",textAlign:"center",background:"#343C4D",borderRadius:"6px 6px 0px 0px",marginBottom:e.tokens.margin.speace2}),"moniter-item-chart-container":{width:"100%",height:"300px",position:"relative","&.autoHeight":{height:0,paddingBottom:"100%"}},"moniter-item-chart":{position:"absolute",left:0,top:0,right:0,bottom:0},"moniter-item-toolbox":{margin:"".concat(e.tokens.margin.speace," ").concat(e.tokens.margin.speace2," -23px ").concat(e.tokens.margin.speace2),display:"flex",justifyContent:"space-between"},"moniter-item-yaxis":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},"moniter-item-operate":{position:"relative",zIndex:2,display:"flex",alignItems:"center","& > .anticon":{cursor:"pointer",display:"block","&:hover":{color:e.tokens.font.reactive.mainHover},"&:active":{color:e.tokens.font.reactive.mainActive}}}}}))(),y=s.classes,m=s.cx;return n.createElement("div",{className:y["moniter-item-container"]},n.createElement("div",{className:y["moniter-item-title"]},c),n.createElement(L,{legends:l,onClick:a}),n.createElement("div",{className:y["moniter-item-toolbox"]},n.createElement("span",{className:y["moniter-item-yaxis"]},r),n.createElement("div",{className:y["moniter-item-operate"]},n.createElement(B.Z,{trigger:"hover",content:"Reset view"},n.createElement(o.uS,{onClick:t})))),n.createElement("div",{className:m(y["moniter-item-chart-container"],{autoHeight:u})},n.createElement("div",{className:y["moniter-item-chart"],ref:i})))}var ne=n.memo(re);function oe(e){var t=(0,c.R)().onPanelResize,r=e.options,o=e.title,a=e.labelRotateBoundary,i=e.autoHeight,l=q((0,n.useState)(0),2),u=l[0],s=l[1],f=(0,n.useRef)(),y=q((0,n.useState)([]),2),m=y[0],p=y[1],b=(0,n.useRef)(),d=q((0,n.useState)(""),2),v=d[0],h=d[1],g=(0,n.useRef)(0),S=(0,n.useMemo)((function(){return m}),[JSON.stringify(m)]),j=(0,n.useCallback)((function(e){b.current.dispatchAction({type:"legendToggleSelect",name:e})}),[]);(0,n.useEffect)((function(){var e=setInterval((function(){f.current.clientWidth&&(b.current=N.S1(f.current),clearInterval(e))}),50);return t((function(e){var t;null===(t=b.current)||void 0===t||t.resize(),a&&(g.current=e<a?45:0,s((function(e){return e+1})))})),function(){var t;null===(t=b.current)||void 0===t||t.dispose(),clearInterval(e)}}),[]);var O=(0,n.useCallback)((function(){b.current.dispatchAction({type:"dataZoom",start:0,end:100})}),[]);return(0,n.useEffect)((function(){if(r){var e=te({},r);a&&function(e,t){te({},e);t?(e.xAxis.nameGap=70,e.xAxis.axisLabel.rotate=t):(e.xAxis.nameGap=30,e.xAxis.axisLabel.rotate=0)}(e,g.current),e.graphic&&function(e){try{e.graphic.forEach((function(e){e.shape.points=e.shape.points.filter((function(e){return!!e})).map((function(e){var t;return null===(t=b.current)||void 0===t?void 0:t.convertToPixel({seriesIndex:0},e)})).filter((function(e){return!!e}))}))}catch(e){}}(e),e.yAxis.name&&function(e){h(e.yAxis.name),delete e.yAxis.name}(e),function(e){var t;b.current&&(null===(t=b.current)||void 0===t||t.setOption(e,{replaceMerge:["dataset","graphic"]}))}(e),p((e.series||[]).map((function(e){return e.name})))}}),[r,u]),n.createElement(ne,{autoHeight:i,onReset:O,onLegendClick:j,title:o,yAxisName:v,onCanvasRef:f,legends:S})}function ae(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(){var e,t,r=(e=(0,n.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=P().controlData;return(0,n.useEffect)((function(){var e;null!=(e=i.headingError)&&e.length&&a(W({dataset:{source:[["x","y"]].concat(ae(e))},series:[{smooth:!0,type:"line",showSymbol:!1,name:"headingError",itemStyle:{color:"#3288FA"},encode:{x:"x",y:"y"}}],xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Error (m)"},scale:!0}))}),[i]),n.createElement(oe,{labelRotateBoundary:550,title:"Heading Error",options:o})}function ue(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(){var e,t,r=(e=(0,n.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=P().controlData;return(0,n.useEffect)((function(){var e;null!=(e=i.lateralError)&&e.length&&a(W({dataset:{source:[["x","y"]].concat(ue(e))},series:[{name:"lateralError",smooth:!0,type:"line",showSymbol:!1,itemStyle:{color:"#3288FA"},encode:{x:"x",y:"y"}}],yAxis:{name:"Error (m)"},xAxis:{type:"value",name:"Time (s)"},scale:!0}))}),[i]),n.createElement(oe,{labelRotateBoundary:550,title:"Lateral Error",options:o})}function me(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(){var e,t,r=(e=(0,n.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=P().controlData;return(0,n.useEffect)((function(){var e;null!=(e=i.stationError)&&e.length&&a(W({dataset:{source:[["x","y"]].concat(me(e))},series:[{name:"stationError",smooth:!0,type:"line",showSymbol:!1,itemStyle:{color:"#3288FA"},encode:{x:"x",y:"y"}}],xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Error (m)"},scale:!0}))}),[i]),n.createElement(oe,{labelRotateBoundary:550,title:"Station Error",options:o})}function ve(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(){var e=he((0,n.useState)(),2),t=e[0],r=e[1],o=P().controlData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.curvature,n=(t=Object.entries(e).reduce((function(e,t){var r=he(t,2),n=r[0],o=r[1];return{dataset:[].concat(ve(e.dataset),[{id:n,source:[["x","y"]].concat(ve(o))}]),series:[].concat(ve(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({scale:!0,dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Curvature (1/m)"}}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Curvature",options:t})}function Oe(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(){var e=we((0,n.useState)(),2),t=e[0],r=e[1],o=P().controlData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.acceleration,n=(t=Object.entries(e).reduce((function(e,t){var r=we(t,2),n=r[0],o=r[1];return{dataset:[].concat(Oe(e.dataset),[{id:n,source:[["x","y"]].concat(Oe(o))}]),series:[].concat(Oe(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({scale:!0,dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Acceleration(m/s^2)"}}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Acceleration",options:t})}function Pe(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(){var e=Ie((0,n.useState)(),2),t=e[0],r=e[1],o=P().controlData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.speed,n=(t=Object.entries(e).reduce((function(e,t){var r=Ie(t,2),n=r[0],o=r[1];return{dataset:[].concat(Pe(e.dataset),[{id:n,source:[["x","y"]].concat(Pe(o))}]),series:[].concat(Pe(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Speed(m/s)"},scale:!0}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Speed",options:t})}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Me(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ce(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(){var e=Ne((0,n.useState)(),2),t=e[0],r=e[1],o=P().controlData;return(0,n.useEffect)((function(){var e,t,n,a,i,l,c,u,s,f,y;e=o.trajectory,t=o.polygon,n=Object.entries(e).reduce((function(e,t){var r=Ne(t,2),n=r[0],o=r[1];return Le({dataset:[].concat(Me(e.dataset),[{id:n,source:[["x","y"]].concat(Me(o))}]),series:[].concat(Me(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])},function(e,t,r){if(null==e||!e.length)return{x:t,y:r};var n=Le({},t),o=Le({},r);return(e||[]).forEach((function(e){var t=Ne(e,2),r=t[0],a=t[1];r&&a&&(n.max=Math.max(r,n.max),n.min=Math.min(r,n.min),o.max=Math.max(a,o.max),o.min=Math.min(a,o.min))})),{x:n,y:o}}(o,e.x,e.y))}),{dataset:[],series:[],x:{max:-1,min:1/0},y:{max:-1,min:1/0}}),a=n.dataset,i=n.series,l=n.x,c=n.y,u=[{type:"polygon",style:{fill:"transparent",stroke:"red"},shape:{points:t}}],s=Math.ceil((l.min+l.max)/2),f=Math.ceil((c.min+c.max)/2),y=Math.ceil(Math.max(l.max-l.min,c.max-c.min)/2),r(W({animation:!0,dataset:a,series:i,graphic:u,grid:{containLabel:!1,left:95,top:35,bottom:95,right:35},xAxis:{type:"value",name:"x(m)",axisEqual:!0,max:s+y+10,min:s-y-10,nameGap:70,axisLabel:{rotate:45}},yAxis:{type:"value",name:"y(m)",max:f+y+10,min:f-y-10},xAxisFormatter:function(e){return e.toString()},yAxisFormatter:function(e){return e.toString()}}))}),[o]),n.createElement(oe,{autoHeight:!0,title:"TrajectoryGraph",options:t})}var He={HeadingErrorGraph:n.memo(ce),LateralErrorGraph:n.memo(ye),StationErrorGraph:n.memo(de),CurvatureGraph:n.memo(je),AccelerationGraph:n.memo(Ee),SpeedGraph:n.memo(De),TrajectoryGraph:n.memo(Fe)};function $e(){return n.createElement("div",{style:{height:"12px"}})}function Ke(e){var t=e.checkStatus,r=e.list;return n.createElement("div",null,r.map((function(e){var r=e.id,o=He[r];return o?n.createElement("div",{key:r,style:{display:t[r]?"block":"none"}},n.createElement(o,{key:r}),n.createElement($e,null)):null})))}const Ue=n.memo(Ke);var Ze=r(8484);function ze(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(e,t):void 0}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ve(){var e=_e((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.speed,n=(t=Object.entries(e).reduce((function(e,t){var r=_e(t,2),n=r[0],o=r[1];return{dataset:[].concat(ze(e.dataset),[{id:n,source:[["x","y"]].concat(ze(o)).filter((function(e){var t=_e(e,1)[0];return"x"===t||t>-2}))}]),series:[].concat(ze(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"time (s)",max:10,min:-2},xAxisFormatter:function(e){return e.toString().replace(/\..*/g,"")},yAxis:{name:"Speed (m/s)",type:"value",max:40,min:-5,interval:5}}))}),[o]),n.createElement(oe,{options:t,title:"Planning Speed"})}const Qe=n.memo(Ve);function Xe(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){if(e){if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(){var e=qe((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.acceleration,n=(t=Object.entries(e).reduce((function(e,t){var r=qe(t,2),n=r[0],o=r[1];return{dataset:[].concat(Xe(e.dataset),[{id:n,source:[["x","y"]].concat(Xe(o)).filter((function(e){var t=qe(e,1)[0];return"x"===t||t>-2}))}]),series:[].concat(Xe(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)",max:10,min:-2},yAxis:{interval:1,name:"Acceleration (m/s^2)",min:-4,max:4}}))}),[o]),n.createElement(oe,{options:t,title:"Planning Acceleration"})}const rt=n.memo(tt);function nt(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lt(){var e=ot((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.theta,n=(t=Object.entries(e).reduce((function(e,t){var r=ot(t,2),n=r[0],o=r[1];return{dataset:[].concat(nt(e.dataset),[{id:n,source:[["x","y"]].concat(nt(o))}]),series:[].concat(nt(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Theta"},xAxisFormatter:function(e){return e.toString().replace(/\..*/g,"")}}))}),[o]),n.createElement(oe,{title:"Planning Theta",options:t,labelRotateBoundary:550})}const ct=n.memo(lt);var ut=r(60709);function st(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(e){if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pt(){var e=ft((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.kappa,n=(t=Object.entries(e).reduce((function(e,t){var r=ft(t,2),n=r[0],o=r[1];return{dataset:[].concat(st(e.dataset),[{id:n,source:[["x","y"]].concat(st(o))}]),series:[].concat(st(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Kappa",max:.2,min:-.2,interval:.05},xAxisFormatter:function(e){return e.toString().replace(/\..*/g,"")},yAxisFormatter:function(e){if(0===Number(e))return"0";var t=Number(e)>0?"":"-";return"".concat(t,"0.").concat((0,ut.$5)(100*Math.abs(e),2))}}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Planning Kappa",options:t})}function bt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(){var e=dt((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.DKappa,n=(t=Object.entries(e).reduce((function(e,t){var r=dt(t,2),n=r[0],o=r[1];return{dataset:[].concat(bt(e.dataset),[{id:n,source:[["x","y"]].concat(bt(o))}]),series:[].concat(bt(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},xAxisFormatter:function(e){return e.toString().replace(/\..*/g,"")},yAxis:{name:"DKappa",min:-.02,max:.02,interval:.005},yAxisFormatter:function(e){if(0===Number(e))return"0";var t=Number(e)>0?"":"-";return"".concat(t,"0.").concat((0,ut.$5)(1e3*Math.abs(e),3))}}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Planning Kappa Derivative",options:t})}function St(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(e){if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function At(){var e=jt((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.referenceTheta,n=(t=Object.entries(e).filter((function(e){return"ReferenceLine"===jt(e,1)[0]})).reduce((function(e,t){var r=jt(t,2),n=r[0],o=r[1];return{dataset:[].concat(St(e.dataset),[{id:n,source:[["x","y"]].concat(St(o))}]),series:[].concat(St(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"S (m)"},yAxis:{name:"Theta"}}))}),[o]),n.createElement(oe,{title:"Reference Line Theta",options:t})}function xt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(){var e=Et((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.referenceKappa,n=(t=Object.entries(e).filter((function(e){return"ReferenceLine"===Et(e,1)[0]})).reduce((function(e,t){var r=Et(t,2),n=r[0],o=r[1];return{dataset:[].concat(xt(e.dataset),[{id:n,source:[["x","y"]].concat(xt(o))}]),series:[].concat(xt(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"S (m)"},yAxis:{name:"Kappa",max:.2,min:-.2,interval:.05},yAxisFormatter:function(e){if(0===Number(e))return"0";var t=Number(e)>0?"":"-";return"".concat(t,"0.").concat((0,ut.$5)(100*Math.abs(e),2))}}))}),[o]),n.createElement(oe,{title:"Reference Line Kappa",options:t})}function kt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(e){if("string"==typeof e)return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rt(){var e=Dt((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.referenceDKappa,n=(t=Object.entries(e).reduce((function(e,t){var r=Dt(t,2),n=r[0],o=r[1];return{dataset:[].concat(kt(e.dataset),[{id:n,source:[["x","y"]].concat(kt(o))}]),series:[].concat(kt(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"DKappa",max:.02,min:-.02,interval:.005},yAxisFormatter:function(e){if(0===Number(e))return"0";var t=Number(e)>0?"":"-";return"".concat(t,"0.").concat((0,ut.$5)(1e3*Math.abs(e),3))}}))}),[o]),n.createElement(oe,{title:"Reference Line Kappa Derivative",options:t})}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gt(){var e=Lt((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a,i;e=o.st,n=Object.entries(e.QpSplineStSpeedOptimizer||{}).filter((function(e){return"obstaclesBoundary"!==Lt(e,1)[0]})).map((function(e){var t,r=Lt(e,2),n=r[0],o=r[1];return{id:n,source:[["x","y"]].concat((t=o||[],function(e){if(Array.isArray(e))return Bt(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Nt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}})),a=Object.entries(e.QpSplineStSpeedOptimizer||{}).filter((function(e){return"obstaclesBoundary"!==Lt(e,1)[0]})).map((function(e){var t=Lt(e,1)[0];return{datasetId:t,smooth:!0,name:t,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}})),i=Object.entries((null===(t=e.QpSplineStSpeedOptimizer)||void 0===t?void 0:t.obstaclesBoundary)||{}).map((function(e){return{type:"polygon",style:{fill:"transparent",stroke:"red"},shape:{points:Lt(e,2)[1]}}})),r(W({dataset:n,series:a,graphic:i,xAxis:{type:"value",name:"Time (s)",min:-2,max:10},yAxis:{name:"S (m)",max:220,min:-10}}))}),[o]),n.createElement(oe,{title:"Planning S-T Graph",options:t})}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(e){if("string"==typeof e)return $t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kt(){var e=Ft((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.speedHeuristic.DpStSpeedOptimizer,t=Object.entries(e||{}).filter((function(e){return"obstaclesBoundary"!==Ft(e,1)[0]})).map((function(e){var t,r=Ft(e,2),n=r[0],o=r[1];return{id:n,source:[["x","y"]].concat((t=o||[],function(e){if(Array.isArray(e))return $t(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}})),n=Object.entries(e||{}).filter((function(e){return"obstaclesBoundary"!==Ft(e,1)[0]})).map((function(e){var t=Ft(e,1)[0];return{datasetId:t,smooth:!0,name:t,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}})),a=Object.entries((null==e?void 0:e.obstaclesBoundary)||{}).map((function(e){return{type:"polygon",style:{fill:"transparent",stroke:"red"},shape:{points:Ft(e,2)[1]}}})),r(W({dataset:t,series:n,graphic:a,xAxis:{type:"value",name:"Time (s)",min:-2,max:10},yAxis:{name:"S (m)",max:220,min:-10}}))}),[o]),n.createElement(oe,{title:"Speed Heuristic",options:t})}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||Zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){if(e){if("string"==typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _t(){var e=Ut((0,n.useState)(),2),t=e[0],r=e[1],o=P().planningData;return(0,n.useEffect)((function(){var e,t,n,a;e=o.vt,t=Object.entries(e||{}).filter((function(e){return"obstaclesBoundary"!==Ut(e,1)[0]})).map((function(e){var t,r=Ut(e,2),n=r[0],o=r[1];return{id:n,source:[["x","y"]].concat((t=o||[],function(e){if(Array.isArray(e))return zt(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Zt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}})),n=Object.entries(e||{}).filter((function(e){return"obstaclesBoundary"!==Ut(e,1)[0]})).map((function(e){var t=Ut(e,1)[0];return{datasetId:t,smooth:!0,name:t,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}})),a=Object.entries((null==e?void 0:e.obstaclesBoundary)||{}).map((function(e){return{type:"polygon",style:{fill:"transparent",stroke:"red"},shape:{points:Ut(e,2)[1]}}})),r(W({dataset:t,graphic:a,series:n,xAxis:{type:"value",name:"S - Qp_path(m)",min:-10,max:220},yAxis:{name:"V (m/s)",min:-1,max:40}}))}),[o]),n.createElement(oe,{title:"Planning V-T Graph",options:t})}function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==Wt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wt(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qt(){var e=(0,i.$G)("pncMonitor").t,t=P().planningData,r=(0,f.BH)((function(e){return{"moniter-item-container":{backgroundColor:"#282D38",color:e.tokens.colors.fontColor2,borderRadius:"6px"},"moniter-item-title":Vt(Vt({},e.tokens.typography.sideText),{},{lineHeight:"32px",textAlign:"center",background:"#343C4D",borderRadius:"6px 6px 0px 0px"}),"moniter-item-content":Vt(Vt({},e.tokens.typography.sideText),{},{padding:"12px ".concat(e.tokens.padding.speace2),color:e.tokens.colors.fontColor2,display:"flex",justifyContent:"space-around"}),"moniter-item-left":{minWidth:"25%",maxWidth:"120px",whiteSpace:"nowrap"},"moniter-item-mid":{minWidth:"50%",padding:"0 24px","& > div":Vt({},e.util.textEllipsis)},"moniter-item-right":{minWidth:"25%","& > div":Vt({},e.util.textEllipsis)},time:{width:"20%"},scenarioPluginType:{width:"40%"},stagePluginType:{width:"40%"}}}))().classes;return n.createElement("div",{className:r["moniter-item-container"]},n.createElement("div",{className:r["moniter-item-title"]},e("scenarioHistory")),n.createElement("div",{className:r["moniter-item-content"]},n.createElement("div",{className:r["moniter-item-left"]},t.scenarioHistory.map((function(e){return n.createElement("div",{title:e.timeString,key:e.timeString},e.timeString)}))),n.createElement("div",{className:r["moniter-item-mid"]},t.scenarioHistory.map((function(e){return n.createElement("div",{title:e.timeString,key:e.timeString},e.scenarioPluginType)}))),n.createElement("div",{className:r["moniter-item-right"]},t.scenarioHistory.map((function(e){return n.createElement("div",{title:e.timeString,key:e.timeString},e.stagePluginType)})))))}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qt={PlanningSpeed:Qe,PlanningAccelerationGraph:rt,PlanningTheta:ct,PlanningKappa:n.memo(pt),PlanningDKappa:n.memo(gt),PlanningReferenceTheta:n.memo(At),PlanningReferenceKappa:n.memo(Tt),PlanningReferenceDKappa:n.memo(Rt),PlanningSTGraph:n.memo(Gt),PlanningSpeedHeuristicGraph:n.memo(Kt),PlanningVTGraph:n.memo(_t)};function Jt(){return n.createElement("div",{style:{height:"12px"}})}function er(e){var t,r,o=e.checkStatus,a=e.list,i=(t=(0,Ze.Z)(),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return n.createElement("div",null,i.isScenarioHistoryShow&&n.createElement(n.Fragment,null,n.createElement(Qt,null),n.createElement(Jt,null)),a.map((function(e){var t=e.id,r=qt[t];return r?n.createElement("div",{key:t,style:{display:o[t]?"block":"none"}},n.createElement(r,{key:t}),n.createElement(Jt,null)):null})))}const tr=n.memo(er);function rr(e){return function(e){if(Array.isArray(e))return ar(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||or(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||or(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){if(e){if("string"==typeof e)return ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(e,t):void 0}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ir(){var e=nr((0,n.useState)(),2),t=e[0],r=e[1],o=P().latencyData;return(0,n.useEffect)((function(){var e,t,n,a;e=o,n=(t=Object.entries(e).reduce((function(e,t){var r=nr(t,2),n=r[0],o=r[1];return{dataset:[].concat(rr(e.dataset),[{id:n,source:[["x","y"]].concat(rr(o))}]),series:[].concat(rr(e.series),[{datasetId:n,smooth:!0,name:n,type:"line",showSymbol:!1,encode:{x:"x",y:"y"}}])}}),{dataset:[],series:[]})).dataset,a=t.series,r(W({dataset:n,series:a,xAxis:{type:"value",name:"Time (s)"},yAxis:{name:"Latency (ms)"},xAxisFormatter:function(e){return e.toString().replace(/\..*/g,"")}}))}),[o]),n.createElement(oe,{labelRotateBoundary:550,title:"Latency",options:t})}const lr=n.memo(ir);function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var sr=5,fr={planning_reference_line:"ReferenceLine",DpStSpeedOptimizer:"SpeedHeuristic",QpSplineStSpeedOptimizer:"PlannedSpeed"},yr=function(){return{vt:{},theta:{},st:{},speedHeuristic:{},speed:{},referenceTheta:{},referenceKappa:{},referenceDKappa:{},kappa:{},DKappa:{},acceleration:{},scenarioHistory:[]}};var mr=r(80151);function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hr=80,gr=function(){return{trajectory:{plan:[],target:[],real:[],autoModeZone:[],steerCurve:[],currentTargetPoint:[]},stationError:[],lateralError:[],headingError:[],speed:{plan:[],target:[],real:[],autoModeZone:[]},curvature:{plan:[],target:[],real:[],autoModeZone:[]},acceleration:{plan:[],target:[],real:[],autoModeZone:[]},polygon:{},pose:{},currentTargetPoint:[]}},Sr=gr();function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var wr=300,Ar=function(){return{}};function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ir(e){var t=(0,i.$G)("pncMonitor").t,r=e.filterList,a=e.onToggle,l=e.checkStatus,c=b().classes,u=n.createElement("div",{className:c["pnc-monitor-filter-content"]},r.map((function(e){return n.createElement("div",{title:e.name,className:c["pnc-monitor-filter-item"],key:e.name},n.createElement(o.XZ,{title:e.name,onChange:function(){return a(e.id)},checked:l[e.id]},e.name))})));return n.createElement(o.J2,{placement:"bottomLeft",rootClassName:c["pnc-monitor-filter-popover"],content:u,title:t("filtrate")},n.createElement(o.Lr,{className:c["pnc-monitor-filter"]}))}var Tr=n.memo(Ir);function kr(){var e,t,r,i=(0,x.Z)(),u=i.mainApi,f=i.isMainConnected,y=(0,n.useRef)([]),m=(0,c.R)().initSubscription,p=b().classes,d=Er((0,n.useState)(s.PLANNING),2),v=d[0],h=d[1],S=function(e){var t,r=O(w),o=O(A),a=(t={},g(t,s.PLANNING,r),g(t,s.CONTROL,o),g(t,s.LATENCY,{onToggle:function(){return!1},filterList:[],checkedStatus:{}}),t)[e],i=(0,n.useCallback)((function(e){a.onToggle(e)}),[e]);return{current:{filterList:a.filterList,checkStatus:a.checkedStatus,onToggle:i},planning:r,control:o}}(v),j=S.current,P=j.filterList,I=j.checkStatus,T=j.onToggle,k=S.planning,D=S.control,C=Er((0,n.useState)((function(){return{planningData:yr(),controlData:gr(),latencyData:Ar()}})),2),M=C[0],R=M.planningData,L=M.controlData,N=M.latencyData,B=C[1],G=(e=(0,n.useRef)(yr()),t=(0,n.useRef)(0),r=(0,n.useCallback)((function(r){var n,o,a,i=r.planningData,l=null==r||null===(n=r.latency)||void 0===n||null===(n=n.planning)||void 0===n?void 0:n.timestampSec;return i&&t.current!==l&&(null!=i&&i.path&&(i.path.forEach((function(t){var r=fr[t.name]||t.name;e.current.referenceTheta[r]=Y(t.pathPoint,"s","theta")})),i.path.forEach((function(t){var r=fr[t.name]||t.name;e.current.referenceKappa[r]=Y(t.pathPoint,"s","kappa")})),i.path.filter((function(e){return fr[e.name]})).forEach((function(t){var r=fr[t.name];e.current.referenceDKappa[r]=Y(t.pathPoint,"s","dkappa")}))),null!=i&&i.stGraph&&((i.stGraph||[]).forEach((function(t){e.current.st[t.name]={obstaclesBoundary:{}};var r=e.current.st[t.name];t.boundary&&t.boundary.forEach((function(e){var t=e.type.substring(17),n="".concat(e.name,"_").concat(t);r.obstaclesBoundary[n]=Y(e.point,"t","s",!1,0,!1)})),r.curveLine=Y(t.speedProfile,"t","s"),t.kernelCruiseRef&&(r.kernelCruise=V(t.kernelCruiseRef.t,t.kernelCruiseRef.cruiseLineS)),t.kernelFollowRef&&(r.kernelFollow=V(t.kernelFollowRef.t,t.kernelFollowRef.followLineS))})),(i.stGraph||[]).forEach((function(t){if(t.name){e.current.speedHeuristic[t.name]={obstaclesBoundary:{}};var r=e.current.speedHeuristic[t.name];t.boundary&&t.boundary.forEach((function(e){var t=e.type.substring(17),n="".concat(e.name,"_").concat(t);r.obstaclesBoundary[n]=Y(e.point,"t","s",!1,0,!1)})),r.curveLine=Y(t.speedProfile,"t","s"),t.kernelCruiseRef&&(r.kernelCruise=V(t.kernelCruiseRef.t,t.kernelCruiseRef.cruiseLineS)),t.kernelFollowRef&&(r.kernelFollow=V(t.kernelFollowRef.t,t.kernelFollowRef.followLineS))}}))),null!=i&&i.stSpeedGraph&&(i.stSpeedGraph||[]).forEach((function(t){e.current.vt[t.name]={};var r=e.current.vt[t.name];if(r.limit=Y(t.speedLimit,"s","v",!1,0,!1),r.planned=Y(t.speedProfile,"s","v",!1,0,!1),t.speedConstraint){var n=t.speedProfile.map((function(e){return e.t})),o=t.speedProfile.map((function(e){return e.s})),a=new $.LinearInterpolant(n,o,1,[]),i=t.speedConstraint.t.map((function(e){return a.evaluate(e)[0]}));r.lowerConstraint=V(i,t.speedConstraint.lowerBound),r.upperConstraint=V(i,t.speedConstraint.upperBound)}})),null!=r&&r.planningTrajectory&&(a=r.planningTrajectory,e.current.theta.Trajectory=Y(a,"timestampSec","heading"),function(t){e.current.kappa.Trajectory=Y(t,"timestampSec","kappa")}(r.planningTrajectory),function(t){e.current.DKappa.Trajectory=Y(t,"timestampSec","dkappa")}(r.planningTrajectory),function(r){r&&(e.current.acceleration.VehicleSpeed=Y(r,"timestampSec","speedAcceleration",!1,-t.current))}(r.planningTrajectory)),null!=i&&i.speedPlan&&function(r,n){(r||[]).forEach((function(t){var r=fr[t.name]||t.name;e.current.speed[r]=Y(t.speedPoint,"t","v")})),n&&(e.current.speed.VehicleSpeed=Y(n,"timestampSec","speed",!1,-t.current))}(null==i?void 0:i.speedPlan,null==r?void 0:r.planningTrajectory),i.scenario&&function(t,r){if(t){var n=e.current.scenarioHistory.slice(-1)[0]||{};n.timeSec&&r<n.timeSec&&(e.current.scenarioHistory=[]),n.scenarioPluginType===t.scenarioPluginType&&n.stagePluginType===t.stagePluginType.replace("".concat(t.scenarioPluginType,"_"),"")||(e.current.scenarioHistory.push({timeSec:r,timeString:(0,ut.X)(1e3*r,!0),scenarioPluginType:t.scenarioPluginType,stagePluginType:t.stagePluginType?t.stagePluginType.replace("".concat(t.scenarioPluginType,"_"),""):"-"}),e.current.scenarioHistory.length>sr&&e.current.scenarioHistory.shift())}}(i.scenario,l),o=l,t.current=o),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cr(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.current)}),[]),{data:e,onSimData:r}).onSimData,F=function(){var e=(0,n.useRef)(Sr),t=(0,n.useCallback)((function(t){e.current.pose.x=t.positionX,e.current.pose.y=t.positionY,e.current.pose.heading=t.heading}),[]),r=(0,n.useRef)({});function o(e,t,n,o,a){var i,l=n.timestampSec;if(r.current[a]||(r.current[a]={}),!r.current[a][l]){r.current[a][l]=!0,e.target.push([l,Q(t,l,a)]),e.real.push([n[o],n[a]]);var c="DISENGAGE_NONE"===n.disengageType;e.autoModeZone.push([l,c?n[a]:""])}var u={};e.plan=(t||[]).map((function(e){return[e.timestampSec,e[a]]})).filter((function(e){var t=e[0];return!u[t]&&(u[t]=!0,t>l)})).sort((function(e,t){return dr(e,1)[0]-dr(t,1)[0]}));var s=null===(i=e.plan)||void 0===i||null===(i=i[1])||void 0===i?void 0:i[0];e.target=e.target.sort((function(e,t){return dr(e,1)[0]-dr(t,1)[0]})).filter((function(e){return dr(e,1)[0]<s})),e.real=e.real.sort((function(e,t){return dr(e,1)[0]-dr(t,1)[0]})).filter((function(e){return dr(e,1)[0]<s})),e.autoModeZone=e.autoModeZone.sort((function(e,t){return dr(e,1)[0]-dr(t,1)[0]})).filter((function(e){return dr(e,1)[0]<s}))}var a=(0,n.useRef)({});function i(t,r,n){if(n&&r){a.current[t]||(a.current[t]={});var o="".concat(t,"_data");a.current[o]||(a.current[o]=[]),!a.current[t][r]&&(a.current[t][r]=!0,a.current[o].push([r,n])),e.current[t]=a.current[o].sort((function(e,t){return dr(e,1)[0]-dr(t,1)[0]})).filter((function(e){return dr(e,1)[0]<r}))}}var l=(0,n.useCallback)((function(r){var n,a,l,c=r.planningTrajectory,u=r.autoDrivingCar;if(a=null===(n=r.controlData)||void 0===n?void 0:n.currentTargetPoint,e.current.currentTargetPoint=[],a&&a.pathPoint&&e.current.currentTargetPoint.push([a.pathPoint.x,a.pathPoint.y]),u&&(t(u),function(e,t,r){var n,o=t.steeringAngle/r.steerRatio;n=Math.abs(Math.tan(o))>1e-4?r.wheelBase/Math.tan(o):1e5;var a=t.heading,i=Math.abs(n),l=7200/(2*Math.PI*i)*Math.PI/180,c=null,u=null,s=null,f=null;n>=0?(s=Math.PI/2+a,f=a-Math.PI/2,c=0,u=l):(s=a-Math.PI/2,f=Math.PI/2+a,c=-l,u=0);var y=t.positionX+Math.cos(s)*i,m=t.positionY+Math.sin(s)*i,p=new $.EllipseCurve(y,m,i,i,c,u,!1,f);e.steerCurve=p.getPoints(25).map((function(e){return[e.x,e.y]}))}(e.current.trajectory,u,r.vehicleParam)),r.vehicleParam&&(l=r.vehicleParam,e.current.polygon=mr.bq.calculateCarPolygonPoints(e.current.pose.x,e.current.pose.y,e.current.pose.heading,l)),c&&u&&(function(e,t,r,n,o){var a=r.timestampSec,i=e.target.length>0&&a<e.target[e.target.length-1].t,l=e.target.length>=hr;if(i?(e.target=[],e.real=[],e.autoModeZone=[]):l&&(e.target.shift(),e.real.shift(),e.autoModeZone.shift()),0===e.target.length||a!==e.target[e.target.length-1].t){e.plan=(t||[]).map((function(e){return[e[n],e[o]]})),e.target.push([Q(t,a,n),Q(t,a,o)]),e.real.push([r[n],r[o]]);var c="DISENGAGE_NONE"===r.disengageType;e.autoModeZone.push([r[n],c?r[o]:void 0])}}(e.current.trajectory,c,u,"positionX","positionY"),o(e.current.speed,c,u,"timestampSec","speed"),o(e.current.curvature,c,u,"timestampSec","kappa"),o(e.current.acceleration,c,u,"timestampSec","speedAcceleration")),r.controlData){var s=r.controlData,f=s.timestampSec;i("stationError",f,s.stationError),i("lateralError",f,s.lateralError),i("headingError",f,s.headingError)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==pr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pr(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.current)}),[]);return{data:e,onSimData:l}}().onSimData,H=function(){var e=(0,n.useRef)(Ar()),t=(0,n.useCallback)((function(t){return t.latency&&Object.keys(t.latency).forEach((function(r){r in e.current||(e.current[r]=[]),function(t,r){if(r){var n=r.timestampSec,o=e.current[t];if(o.length>0){var a=n-o[0][0];n<o[o.length-1][0]?(e.current[t]=[],o=e.current[t]):a>wr&&o.shift()}0!==o.length&&o[o.length-1][0]===n||o.push([n,r.totalTimeMs])}}(r,t.latency[r])})),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==jr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jr(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.current)}),[]);return{data:e,onSimData:t}}().onSimData;(0,n.useEffect)((function(){var e,t,r;m((e={},t=l.DU.SIM_WORLD,r={consumer:function(e){B({planningData:G(e),latencyData:H(e),controlData:F(e)})}},(t=function(e){var t=function(e,t){if("object"!==xr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===xr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}),[]),(0,n.useEffect)((function(){f&&u.triggerPncMonitor(!0)}),[u]);var K=(0,n.useMemo)((function(){return{onCosumerSimWrold:function(e){y.current.push(e)},planningData:R,controlData:L,latencyData:N}}),[R,L,N]),U=[{key:s.PLANNING,label:"Planning",children:n.createElement(tr,{list:k.filterList,checkStatus:k.checkedStatus})},{key:s.CONTROL,label:"Control",children:n.createElement(Ue,{list:D.filterList,checkStatus:D.checkedStatus})},{key:s.LATENCY,label:"Latency",children:n.createElement(lr,null)}];return n.createElement(a.Z,{className:p["pnc-container"]},n.createElement(E.Provider,{value:K},n.createElement(o.mQ,{destroyInactiveTabPane:!0,onChange:function(e){h(e)},activeKey:v,rootClassName:p.tabs,items:U}),v!==s.LATENCY&&n.createElement(Tr,{onToggle:T,filterList:P,checkStatus:I})))}function Dr(e){var t=(0,n.useMemo)((function(){return(0,u.Z)({PanelComponent:kr,panelId:e.panelId,subscribeInfo:[{name:l.DU.SIM_WORLD,needChannel:!1}]})}),[]);return n.createElement(t,e)}kr.displayName="InternalPncMonitor";const Cr=n.memo(Dr)},60709:(e,t,r)=>{function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Number(e);if(n>Math.pow(10,t-1))return String(n);var o="0".repeat(t-String(n).length);if("number"!=typeof n)throw new Error("fill0 recived an invidate value");return r?"".concat(o).concat(n):"".concat(n).concat(o)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Date(e),o=n(r.getHours()),a=n(r.getMinutes()),i=n(r.getSeconds()),l=n(r.getMilliseconds(),3),c="".concat(o,":").concat(a,":").concat(i);return t&&(c+=":".concat(l)),c}r.d(t,{$5:()=>n,VY:()=>l,X:()=>o});var a=1e3,i=6e4;function l(e){var t=n(Math.floor(e%1e3),3),r=n(Math.floor(e/a%60)),o=n(Math.floor(e/i));return"".concat(o,":").concat(r,".").concat(t)}}}]);